<ion-infinite-scroll
  position="top"
  threshold="100px"
  (ionInfinite)="loadMessages($event)"
  [disabled]="allMessagesLoaded"
>
  <ion-infinite-scroll-content
    loadingSpinner="bubbles"
    loadingText="Loading messages..."
  >
  </ion-infinite-scroll-content>
</ion-infinite-scroll>

<ion-list>
  <app-message-item
    *ngFor="let message of messages; index as index"
    [message]="message"
    [last-message]="getLastMessage(index)"
  ></app-message-item>
</ion-list>
