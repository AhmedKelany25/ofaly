<ion-item *ngIf="dateTitle" lines="none">
  <ion-label class="ion-text-center" [ngSwitch]="when">
    <ion-note *ngSwitchCase="'yesterday'">{{
      'yesterday' | uppercase
    }}</ion-note>
    <ion-note *ngSwitchCase="'today'">{{ 'today' | uppercase }}</ion-note>
    <ion-note *ngSwitchDefault>
      {{ dateTitle | date: 'd MMMM yyyy' | uppercase }}
    </ion-note>
  </ion-label>
</ion-item>

<ion-item
  *ngIf="!follower; else childMessage"
  button
  mode="md"
  detail="false"
  lines="none"
  [ngClass]="{ pending: isPending }"
>
  <div class="avatar-top">
    <ion-avatar slot="start">
      <img [src]="avatar" />
    </ion-avatar>
  </div>
  <ion-label>
    <h3>
      <b>{{ sender }}</b>
      <span id="time-note">
        <ion-note>
          {{ time | date: 'h:mm a' }}
        </ion-note>
      </span>
    </h3>
    <p class="message-body">{{ body }}</p>
  </ion-label>
</ion-item>

<ng-template #childMessage>
  <div
    [ngClass]="{
      pending: isPending,
      'child-message': true,
      'ripple-parent': true,
      'ion-activatable': true
    }"
  >
    <ion-label slot="start">
      <p class="message-body">{{ body }}</p>
    </ion-label>
    <ion-ripple-effect></ion-ripple-effect>
  </div>
</ng-template>
